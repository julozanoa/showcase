<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Fotomosaico # La imagen tipo fotomosaico es una imagen, retrato o fotografía que se divide por figuras geométricas, generalmente por cuadrados o rectángulos del mismo tamaño, lo cual posibilita la reemplazo de las mismas por otros retratos, fotografías o imágenes que concuerden con los colores promedio que encierran las figuras geométricas de la imagen original, lo cual posibilita la reemplazo por otros retratos, fotografías o imágenes que concuerden con los colores promedio que encierran las figuras geométricas de la imagen original, lo cual posibilita la ruptura de las mismas por otros retratos, fotografías o imágenes que concuerden con los colores promedio que encierran las figuras geométricas de la imagen original, pero que al observar de un punto cercano o al hacer zoom."><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content><meta property="og:description" content="Fotomosaico # La imagen tipo fotomosaico es una imagen, retrato o fotografía que se divide por figuras geométricas, generalmente por cuadrados o rectángulos del mismo tamaño, lo cual posibilita la reemplazo de las mismas por otros retratos, fotografías o imágenes que concuerden con los colores promedio que encierran las figuras geométricas de la imagen original, lo cual posibilita la reemplazo por otros retratos, fotografías o imágenes que concuerden con los colores promedio que encierran las figuras geométricas de la imagen original, lo cual posibilita la ruptura de las mismas por otros retratos, fotografías o imágenes que concuerden con los colores promedio que encierran las figuras geométricas de la imagen original, pero que al observar de un punto cercano o al hacer zoom."><meta property="og:type" content="article"><meta property="og:url" content="https://julozanoa.github.io/showcase/docs/ejercicios/shaders/photomosaic/"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2023-06-19T19:56:38-05:00"><title>Photomosaic | Computacion Visual</title><link rel=manifest href=/showcase/manifest.json><link rel=icon href=/showcase/favicon.png type=image/x-icon><link rel=stylesheet href=/showcase/book.min.4b35fed0bea034bbc19c89c71e14b73fb9c68cfcc586b9382adfb9b7b103ba06.css integrity="sha256-SzX+0L6gNLvBnInHHhS3P7nGjPzFhrk4Kt+5t7EDugY=" crossorigin=anonymous><script defer src=/showcase/flexsearch.min.js></script>
<script defer src=/showcase/en.search.min.3a8d658c77eb93c7f12a2b8af49a700131e474f288eefb605d9fa61576dbe5a7.js integrity="sha256-Oo1ljHfrk8fxKiuK9JpwATHkdPKI7vtgXZ+mFXbb5ac=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/showcase/><span>Computacion Visual</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li class=book-section-flat><span>Ejercicios</span><ul><li><input type=checkbox id=section-90ef4e9a875ffb90970a2032b0c9e631 class=toggle>
<label for=section-90ef4e9a875ffb90970a2032b0c9e631 class="flex justify-between"><a href=/showcase/docs/ejercicios/visual_illusions/>Visual Illusions</a></label><ul><li><a href=/showcase/docs/ejercicios/visual_illusions/coloring/>Coloring</a></li><li><a href=/showcase/docs/ejercicios/visual_illusions/machBands/>Mach Bands</a></li><li><a href=/showcase/docs/ejercicios/visual_illusions/masking/>Masking</a></li><li><a href=/showcase/docs/ejercicios/visual_illusions/spatialCoherence/>Spatial Coherence</a></li><li><a href=/showcase/docs/ejercicios/visual_illusions/temporalCoherence/>Temporal Coherence</a></li><li><a href=/showcase/docs/ejercicios/visual_illusions/depthPerception/>Depth Perception</a></li></ul></li><li><input type=checkbox id=section-371936fc83443bf6b7c549a12872d258 class=toggle checked>
<label for=section-371936fc83443bf6b7c549a12872d258 class="flex justify-between"><a role=button>Shaders</a></label><ul><li><a href=/showcase/docs/ejercicios/shaders/coloring/>Coloring</a></li><li><a href=/showcase/docs/ejercicios/shaders/photomosaic/ class=active>Photomosaic</a></li><li><a href=/showcase/docs/ejercicios/shaders/postEffects/>Post Effects</a></li></ul></li><li><input type=checkbox id=section-f424d8e18466ab21b97442d856ce4651 class=toggle>
<label for=section-f424d8e18466ab21b97442d856ce4651 class="flex justify-between"><a href=/showcase/docs/ejercicios/space-transformations/>Space Transformations</a></label><ul><li><a href=/showcase/docs/ejercicios/space-transformations/ejercicio3D/>Ejercicio3 D</a></li></ul></li></ul></li></ul><ul><li><a href=/showcase/posts/>Blog</a></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/showcase/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Photomosaic</strong>
<label for=toc-control><img src=/showcase/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><ul><li><a href=#fotomosaico>Fotomosaico</a></li></ul></li><li><a href=#fotomosaico-1>Fotomosaico</a><ul><li><a href=#la-imagen-tipo-fotomosaico-se-implemento-a-través-de-hardware>La imagen tipo fotomosaico se implemento a través de hardware</a></li></ul></li><li><a href=#referencias>Referencias</a></li></ul></nav></aside></header><article class=markdown><h2 id=fotomosaico>Fotomosaico
<a class=anchor href=#fotomosaico>#</a></h2><p>La imagen tipo fotomosaico es una imagen, retrato o fotografía que se divide por figuras geométricas, generalmente por cuadrados o rectángulos del mismo tamaño, lo cual posibilita la reemplazo de las mismas por otros retratos, fotografías o imágenes que concuerden con los colores promedio que encierran las figuras geométricas de la imagen original, lo cual posibilita la reemplazo por otros retratos, fotografías o imágenes que concuerden con los colores promedio que encierran las figuras geométricas de la imagen original, lo cual posibilita la ruptura de las mismas por otros retratos, fotografías o imágenes que concuerden con los colores promedio que encierran las figuras geométricas de la imagen original, pero que al observar de un punto cercano o al hacer zoom.</p><h1 id=fotomosaico-1>Fotomosaico
<a class=anchor href=#fotomosaico-1>#</a></h1><h2 id=la-imagen-tipo-fotomosaico-se-implemento-a-través-de-hardware>La imagen tipo fotomosaico se implemento a través de hardware
<a class=anchor href=#la-imagen-tipo-fotomosaico-se-implemento-a-trav%c3%a9s-de-hardware>#</a></h2><p>La adopción del fotomosaico se puede llevar a cabo mediante hardware, es decir, la elaboración de un algoritmo que se encargue de transformar la imagen original en un mosaico de otras imágenes..</p><p>En la función preload, establecemos el fragmento llamado photomosaic.frag como el fragmento a utilizar. A partir de ahí, en el mosaico final, definiremos ciertos parámetros que se obtendrán al recorrer la imagen. En este proceso, se comparan los valores de color promedio de cada píxel de la imagen o video original.</p><p>Los colores promedio de la imagen original se comparan con la imagen generada por el cuadrícula, utilizando una tolerancia que aumenta gradualmente. De esta manera, se busca el color más cercano al original, y ese color encontrado se utiliza para rellenar la imagen resultante que se muestra.
<details><summary>photomosaic.js</summary><div class=markdown-inner><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript></code></pre></div></div></details></p><details><summary>photomosaic.frag</summary><div class=markdown-inner><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#a6e22e>precision</span> <span style=color:#a6e22e>mediump</span> <span style=color:#66d9ef>float</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> <span style=color:#a6e22e>num_images</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>40</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// source (image or video) is sent by the sketch
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>uniform</span> <span style=color:#a6e22e>sampler2D</span> <span style=color:#a6e22e>source</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// palette is sent by the sketch
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>uniform</span> <span style=color:#a6e22e>sampler2D</span> <span style=color:#a6e22e>palette</span>;
</span></span><span style=display:flex><span><span style=color:#75715e>// number of cols are sent by sketch
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>uniform</span> <span style=color:#66d9ef>float</span> <span style=color:#a6e22e>cols</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>uniform</span> <span style=color:#66d9ef>float</span> <span style=color:#a6e22e>lumas</span>[<span style=color:#a6e22e>num_images</span>];
</span></span><span style=display:flex><span><span style=color:#a6e22e>uniform</span> <span style=color:#66d9ef>float</span> <span style=color:#a6e22e>red_palette</span>[<span style=color:#a6e22e>num_images</span>];
</span></span><span style=display:flex><span><span style=color:#a6e22e>uniform</span> <span style=color:#66d9ef>float</span> <span style=color:#a6e22e>green_palette</span>[<span style=color:#a6e22e>num_images</span>];
</span></span><span style=display:flex><span><span style=color:#a6e22e>uniform</span> <span style=color:#66d9ef>float</span> <span style=color:#a6e22e>blue_palette</span>[<span style=color:#a6e22e>num_images</span>];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// toggles debug
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>uniform</span> <span style=color:#a6e22e>bool</span> <span style=color:#a6e22e>debug</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// toggles coloring
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>uniform</span> <span style=color:#a6e22e>bool</span> <span style=color:#a6e22e>color_on</span>;
</span></span><span style=display:flex><span><span style=color:#a6e22e>uniform</span> <span style=color:#a6e22e>vec4</span> <span style=color:#a6e22e>background</span>;
</span></span><span style=display:flex><span><span style=color:#a6e22e>uniform</span> <span style=color:#a6e22e>vec4</span> <span style=color:#a6e22e>foreground</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// target horizontal &amp; vertical resolution
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>uniform</span> <span style=color:#66d9ef>float</span> <span style=color:#a6e22e>resolution</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// interpolated color (same name and type as in vertex shader)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>varying</span> <span style=color:#a6e22e>vec4</span> <span style=color:#a6e22e>vVertexColor</span>;
</span></span><span style=display:flex><span><span style=color:#75715e>// interpolated texcoord (same name and type as in vertex shader)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>varying</span> <span style=color:#a6e22e>vec2</span> <span style=color:#a6e22e>vTexCoord</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>float</span> <span style=color:#a6e22e>luma</span>(<span style=color:#a6e22e>vec3</span> <span style=color:#a6e22e>color</span>) {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> (<span style=color:#ae81ff>0.299</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>color</span>.<span style=color:#a6e22e>r</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>0.587</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>color</span>.<span style=color:#a6e22e>g</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>0.114</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>color</span>.<span style=color:#a6e22e>b</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>vec2</span> <span style=color:#a6e22e>fontCoord</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>vTexCoord</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>resolution</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>vec2</span> <span style=color:#a6e22e>srcCoord</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>floor</span>(<span style=color:#a6e22e>fontCoord</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>fontCoord</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>fontCoord</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>srcCoord</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>srcCoord</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>srcCoord</span> <span style=color:#f92672>/</span> <span style=color:#a6e22e>vec2</span>(<span style=color:#a6e22e>resolution</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>float</span> <span style=color:#a6e22e>mid</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>1.0</span><span style=color:#f92672>/</span>(<span style=color:#ae81ff>2.0</span><span style=color:#f92672>*</span><span style=color:#a6e22e>resolution</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>srcCoord</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>srcCoord</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>vec2</span>(<span style=color:#a6e22e>mid</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>vec4</span> <span style=color:#a6e22e>key</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>texture2D</span>(<span style=color:#a6e22e>source</span>, <span style=color:#a6e22e>srcCoord</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>debug</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>gl_FragColor</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>key</span>;
</span></span><span style=display:flex><span>  } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>float</span> <span style=color:#a6e22e>lumakey</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>luma</span>(<span style=color:#a6e22e>key</span>.<span style=color:#a6e22e>rgb</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>float</span> <span style=color:#a6e22e>selected</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0.0</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>bool</span> <span style=color:#a6e22e>complete</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>false</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>float</span> <span style=color:#a6e22e>j</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0.02</span>; <span style=color:#a6e22e>j</span> <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>0.5</span>; <span style=color:#a6e22e>j</span> <span style=color:#f92672>+=</span> <span style=color:#ae81ff>0.02</span>){
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span> ; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>num_images</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>      {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span>((<span style=color:#a6e22e>red_palette</span>[<span style=color:#a6e22e>i</span>]<span style=color:#f92672>/</span><span style=color:#ae81ff>255.0</span><span style=color:#f92672>&gt;</span> (<span style=color:#a6e22e>key</span>.<span style=color:#a6e22e>r</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>j</span>) <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>red_palette</span>[<span style=color:#a6e22e>i</span>]<span style=color:#f92672>/</span><span style=color:#ae81ff>255.0</span> <span style=color:#f92672>&lt;</span> (<span style=color:#a6e22e>key</span>.<span style=color:#a6e22e>r</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>j</span>)) <span style=color:#f92672>&amp;&amp;</span> (<span style=color:#a6e22e>green_palette</span>[<span style=color:#a6e22e>i</span>]<span style=color:#f92672>/</span><span style=color:#ae81ff>255.0</span><span style=color:#f92672>&gt;</span> (<span style=color:#a6e22e>key</span>.<span style=color:#a6e22e>g</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>j</span>) <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>green_palette</span>[<span style=color:#a6e22e>i</span>]<span style=color:#f92672>/</span><span style=color:#ae81ff>255.0</span> <span style=color:#f92672>&lt;</span> (<span style=color:#a6e22e>key</span>.<span style=color:#a6e22e>g</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>j</span>)) <span style=color:#f92672>&amp;&amp;</span> (<span style=color:#a6e22e>blue_palette</span>[<span style=color:#a6e22e>i</span>]<span style=color:#f92672>/</span><span style=color:#ae81ff>255.0</span><span style=color:#f92672>&gt;</span> (<span style=color:#a6e22e>key</span>.<span style=color:#a6e22e>b</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>j</span>) <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>blue_palette</span>[<span style=color:#a6e22e>i</span>]<span style=color:#f92672>/</span><span style=color:#ae81ff>255.0</span> <span style=color:#f92672>&lt;</span> (<span style=color:#a6e22e>key</span>.<span style=color:#a6e22e>b</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>j</span>))){
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>selected</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>float</span>(<span style=color:#a6e22e>i</span>);
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>complete</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>true</span>;
</span></span><span style=display:flex><span>          <span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>complete</span>){
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>vec2</span> <span style=color:#a6e22e>tile</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>vec2</span>((<span style=color:#a6e22e>floor</span>(<span style=color:#a6e22e>selected</span>) <span style=color:#f92672>+</span> <span style=color:#a6e22e>fontCoord</span>.<span style=color:#a6e22e>x</span>) <span style=color:#f92672>/</span> <span style=color:#a6e22e>cols</span>, <span style=color:#a6e22e>fontCoord</span>.<span style=color:#a6e22e>y</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>vec4</span> <span style=color:#a6e22e>paletteTexel</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>texture2D</span>(<span style=color:#a6e22e>palette</span>, <span style=color:#a6e22e>tile</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>gl_FragColor</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>paletteTexel</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></div></details><details><summary>photomosaic.js</summary><div class=markdown-inner><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>preload</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>image_src</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>loadImage</span>(<span style=color:#e6db74>&#34;/showcase/imgs/paisaje.jpg&#34;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>video_src</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createVideo</span>([<span style=color:#e6db74>&#34;/showcase/vid/paisaje.mp4&#34;</span>]);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>video_src</span>.<span style=color:#a6e22e>hide</span>(); <span style=color:#75715e>// by default video shows up in separate dom
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>mosaic</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>readShader</span>(<span style=color:#e6db74>&#34;/showcase/sketches/shaders/photomosaic.frag&#34;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>p</span> <span style=color:#f92672>=</span> [];
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>40</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>i</span>.<span style=color:#a6e22e>toString</span>().<span style=color:#a6e22e>length</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>1</span>) {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>push</span>(<span style=color:#a6e22e>loadImage</span>(<span style=color:#e6db74>`/showcase/imgs/paisajes/00000</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>i</span><span style=color:#e6db74>}</span><span style=color:#e6db74>.jpg`</span>));
</span></span><span style=display:flex><span>    } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>push</span>(<span style=color:#a6e22e>loadImage</span>(<span style=color:#e6db74>`/showcase/imgs/paisajes/0000</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>i</span><span style=color:#e6db74>}</span><span style=color:#e6db74>.jpg`</span>));
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>sample</span>() {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>pg</span>.<span style=color:#a6e22e>width</span> <span style=color:#f92672>!==</span> <span style=color:#a6e22e>SAMPLE_RES</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>imageCells</span>.<span style=color:#a6e22e>width</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>pg</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createGraphics</span>(<span style=color:#a6e22e>SAMPLE_RES</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>imageCells</span>.<span style=color:#a6e22e>width</span>, <span style=color:#a6e22e>SAMPLE_RES</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>mosaic</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#34;cols&#34;</span>, <span style=color:#a6e22e>imageCells</span>.<span style=color:#a6e22e>width</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>imageCells</span>.<span style=color:#a6e22e>sort</span>({
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>ascending</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>true</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>cellLength</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>SAMPLE_RES</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>mode</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;LUMA&#34;</span>,
</span></span><span style=display:flex><span>  });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>luma</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>imageCells</span>.<span style=color:#a6e22e>saveLuma</span>({
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>cellLength</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>SAMPLE_RES</span>,
</span></span><span style=display:flex><span>  });
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>rgb</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>imageCells</span>.<span style=color:#a6e22e>saveRGB</span>({
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>cellLength</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>SAMPLE_RES</span>,
</span></span><span style=display:flex><span>  });
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>drawQuadrille</span>(<span style=color:#a6e22e>imageCells</span>, {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>graphics</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>pg</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>cellLength</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>SAMPLE_RES</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>outlineWeight</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>0</span>,
</span></span><span style=display:flex><span>  });
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>mosaic</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#34;palette&#34;</span>, <span style=color:#a6e22e>pg</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>mosaic</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#34;lumas&#34;</span>, <span style=color:#a6e22e>luma</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>mosaic</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#34;red_palette&#34;</span>, <span style=color:#a6e22e>rgb</span>.<span style=color:#a6e22e>r</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>mosaic</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#34;green_palette&#34;</span>, <span style=color:#a6e22e>rgb</span>.<span style=color:#a6e22e>g</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>mosaic</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#34;blue_palette&#34;</span>, <span style=color:#a6e22e>rgb</span>.<span style=color:#a6e22e>b</span>);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></div></details><iframe id=photomosaic style=width:675px;height:675px srcdoc="
        <!DOCTYPE html>
        <html>
          <head>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/p5.min.js></script>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/addons/p5.sound.min.js></script>
             <script src=/showcase/sketches/libraries/p5.shaderbox.js></script> 
             <script src=/showcase/sketches/libraries/p5.quadrille.js></script> 
            
            
            
            <script src=/showcase/sketches/photomosaic.js></script>
          </head>
          <body>
          </body>
        </html>
      "></iframe><h1 id=referencias>Referencias
<a class=anchor href=#referencias>#</a></h1><blockquote class="book-hint warning"><ul><li>[1] <em>“Shaders”</em> <strong>github.com</strong> <a href=https://github.com/mattdesl/lwjgl-basics/wiki/Shaders>https://github.com/mattdesl/lwjgl-basics/wiki/Shaders</a> (Mar. 8, 2020).</li></ul></blockquote></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/julozanoa/showcase/commit/b5c13ca2d7d3fa4011347ef69e953cbe5b6e4d31 title='Last modified by Andres Vargas | June 20, 2023' target=_blank rel=noopener><img src=/showcase/svg/calendar.svg class=book-icon alt=Calendar>
<span>June 20, 2023</span></a></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><ul><li><a href=#fotomosaico>Fotomosaico</a></li></ul></li><li><a href=#fotomosaico-1>Fotomosaico</a><ul><li><a href=#la-imagen-tipo-fotomosaico-se-implemento-a-través-de-hardware>La imagen tipo fotomosaico se implemento a través de hardware</a></li></ul></li><li><a href=#referencias>Referencias</a></li></ul></nav></div></aside></main></body></html>